(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe20c27c"],{"0df2":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add-item"},[i("form",{attrs:{enctype:"multipart/form-data"},on:{submit:e.onSubmit}},[i("div",{staticClass:"add-item__form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.wine.name,expression:"wine.name"}],staticClass:"add-item__input",attrs:{required:"",name:"name",type:"text",placeholder:"Name"},domProps:{value:e.wine.name},on:{input:function(t){t.target.composing||e.$set(e.wine,"name",t.target.value)}}})]),i("div",{staticClass:"add-item__form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.wine.producer,expression:"wine.producer"}],staticClass:"add-item__input",attrs:{required:"",name:"producer",type:"text",placeholder:"Producer"},domProps:{value:e.wine.producer},on:{input:function(t){t.target.composing||e.$set(e.wine,"producer",t.target.value)}}})]),i("div",{staticClass:"add-item__form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.wine.grapes,expression:"wine.grapes"}],staticClass:"add-item__input",attrs:{required:"",name:"grapes",type:"text",placeholder:"Grapes"},domProps:{value:e.wine.grapes},on:{input:function(t){t.target.composing||e.$set(e.wine,"grapes",t.target.value)}}})]),i("div",{staticClass:"add-item__form-group add-item__form-group--column"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.wine.year,expression:"wine.year"}],staticClass:"add-item__input",attrs:{required:"",name:"year",type:"number",minlength:"4",maxlength:"4",placeholder:"Year"},domProps:{value:e.wine.year},on:{input:function(t){t.target.composing||e.$set(e.wine,"year",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.wine.price,expression:"wine.price"}],staticClass:"add-item__input",attrs:{required:"",name:"price",type:"number",step:".01",placeholder:"Price"},domProps:{value:e.wine.price},on:{input:function(t){t.target.composing||e.$set(e.wine,"price",t.target.value)}}}),i("input",{ref:"file",staticClass:"add-item__input",attrs:{required:"",name:"picture",type:"file",accept:"image/*"},on:{change:e.onSelect}})]),i("div",{staticClass:"add-item__form-group"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.wine.description,expression:"wine.description"}],staticClass:"add-item__input add-item__input--textarea",attrs:{required:"",name:"description",cols:"30",rows:"7",placeholder:"Description"},domProps:{value:e.wine.description},on:{input:function(t){t.target.composing||e.$set(e.wine,"description",t.target.value)}}})]),i("div",{staticClass:"add-item__form-groupp"},[e.isSending?i("input",{staticClass:"add-item__button add-item__button--disabled",attrs:{type:"submit",value:"Sendig...",disabled:""}}):i("input",{staticClass:"add-item__button",attrs:{type:"submit",value:"Add item"}})])])])},n=[],r=(i("b0c0"),i("bc3a")),s=i.n(r),o={data:function(){return{wine:{name:"",producer:"",year:"",grapes:"",price:"",picture:"",description:""},file:"",isSending:!1}},methods:{clearForm:function(){for(var e in this.wine)this.wine[e]=""},onSelect:function(){var e=this.$refs.file.files[0];this.file=e},onSubmit:function(e){var t=this;e.preventDefault(),this.isSending=!0,setTimeout((function(){var e=t.wine,i=JSON.parse(localStorage.getItem("wineList"));e.picture=t.file.name,e.id=i.length+1,i.push(e),localStorage.setItem("wineList",JSON.stringify(i)),localStorage.setItem("wineListAux",JSON.stringify(i)),t.uploadFileToCloudinary(t.file)}),1e3)},uploadFileToCloudinary:function(e){var t=this,i="https://api.cloudinary.com/v1_1/vitorneves/upload",a="wineChallenge",n=new FormData;return n.append("upload_preset",a),n.append("folder","wineChallenge"),n.append("file",e),s.a.post(i,n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.clearForm(),t.isSending=!1})).catch((function(e){console.warn(e)}))}}},d=o,p=(i("289b"),i("2877")),u=Object(p["a"])(d,a,n,!1,null,"8c9bd3cc",null);t["default"]=u.exports},"0e56":function(e,t,i){},"289b":function(e,t,i){"use strict";i("0e56")}}]);
//# sourceMappingURL=chunk-fe20c27c.711fe573.js.map