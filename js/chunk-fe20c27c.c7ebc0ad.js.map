{"version":3,"sources":["webpack:///./src/components/AddItems.vue?6989","webpack:///src/components/AddItems.vue","webpack:///./src/components/AddItems.vue?4c20","webpack:///./src/components/AddItems.vue?de1f","webpack:///./src/components/AddItems.vue?a40a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onSubmit","directives","name","rawName","value","wine","expression","domProps","$event","target","composing","$set","ref","onSelect","staticRenderFns","data","producer","year","grapes","price","picture","description","file","isSending","methods","formData","id","wines","length","push","localStorage","setItem","JSON","stringify","uploadFileToCloudinary","append","CLOUDINARY_UPLOAD_PRESET","headers","console","warn","error","component"],"mappings":"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","file":"js/chunk-fe20c27c.c7ebc0ad.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-item\"},[_c('form',{attrs:{\"enctype\":\"multipart/form-data\"},on:{\"submit\":_vm.onSubmit}},[_c('div',{staticClass:\"add-item__form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wine.name),expression:\"wine.name\"}],staticClass:\"add-item__input\",attrs:{\"required\":\"\",\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(_vm.wine.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wine, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"add-item__form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wine.producer),expression:\"wine.producer\"}],staticClass:\"add-item__input\",attrs:{\"required\":\"\",\"name\":\"producer\",\"type\":\"text\",\"placeholder\":\"Producer\"},domProps:{\"value\":(_vm.wine.producer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wine, \"producer\", $event.target.value)}}})]),_c('div',{staticClass:\"add-item__form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wine.grapes),expression:\"wine.grapes\"}],staticClass:\"add-item__input\",attrs:{\"required\":\"\",\"name\":\"grapes\",\"type\":\"text\",\"placeholder\":\"Grapes\"},domProps:{\"value\":(_vm.wine.grapes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wine, \"grapes\", $event.target.value)}}})]),_c('div',{staticClass:\"add-item__form-group add-item__form-group--column\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wine.year),expression:\"wine.year\"}],staticClass:\"add-item__input\",attrs:{\"required\":\"\",\"name\":\"year\",\"type\":\"number\",\"minlength\":\"4\",\"maxlength\":\"4\",\"placeholder\":\"Year\"},domProps:{\"value\":(_vm.wine.year)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wine, \"year\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wine.price),expression:\"wine.price\"}],staticClass:\"add-item__input\",attrs:{\"required\":\"\",\"name\":\"price\",\"type\":\"number\",\"step\":\".01\",\"placeholder\":\"Price\"},domProps:{\"value\":(_vm.wine.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wine, \"price\", $event.target.value)}}}),_c('input',{ref:\"file\",staticClass:\"add-item__input\",attrs:{\"required\":\"\",\"name\":\"picture\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.onSelect}})]),_c('div',{staticClass:\"add-item__form-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wine.description),expression:\"wine.description\"}],staticClass:\"add-item__input add-item__input--textarea\",attrs:{\"required\":\"\",\"name\":\"description\",\"cols\":\"30\",\"rows\":\"7\",\"placeholder\":\"Description\"},domProps:{\"value\":(_vm.wine.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wine, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"add-item__form-groupp\"},[(_vm.isSending)?_c('input',{staticClass:\"add-item__button add-item__button--disabled\",attrs:{\"type\":\"submit\",\"value\":\"Sendig...\",\"disabled\":\"\"}}):_c('input',{staticClass:\"add-item__button\",attrs:{\"type\":\"submit\",\"value\":\"Add item\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"add-item\">\n    <form @submit=\"onSubmit\" enctype=\"multipart/form-data\">\n      <div class=\"add-item__form-group\">\n        <input\n          required\n          name=\"name\"\n          v-model='wine.name'\n          type=\"text\"\n          class=\"add-item__input\"\n          placeholder=\"Name\"\n        />\n      </div>\n      <div class=\"add-item__form-group\">\n        <input\n          required\n          name=\"producer\"\n          v-model='wine.producer'\n          type=\"text\"\n          class=\"add-item__input\"\n          placeholder=\"Producer\"\n        />\n      </div>\n      <div class=\"add-item__form-group\">\n        <input\n          required\n          name=\"grapes\"\n          v-model='wine.grapes'\n          type=\"text\"\n          class=\"add-item__input\"\n          placeholder=\"Grapes\"\n        />\n      </div>\n      <div class=\"add-item__form-group add-item__form-group--column\">\n        <input\n          required\n          name=\"year\"\n          v-model='wine.year'\n          type=\"number\"\n          minlength=\"4\"\n          maxlength=\"4\"\n          class=\"add-item__input\"\n          placeholder=\"Year\"\n        />\n        <input\n          required\n          name=\"price\"\n          v-model='wine.price'\n          type=\"number\"\n          step=\".01\"\n          class=\"add-item__input\"\n          placeholder=\"Price\"\n        />\n        <input\n          required\n          name=\"picture\"\n          type=\"file\"\n          class=\"add-item__input\"\n          ref=\"file\"\n          accept=\"image/*\"\n          @change=\"onSelect\"\n        />\n      </div>\n      <div class=\"add-item__form-group\">\n        <textarea\n          required\n          name=\"description\"\n          v-model='wine.description'\n          class=\"add-item__input add-item__input--textarea\"\n          cols=\"30\"\n          rows=\"7\"\n          placeholder=\"Description\"\n        ></textarea>\n      </div>\n      <div class=\"add-item__form-groupp\">\n        <input\n          v-if=\"isSending\"\n          type=\"submit\"\n          value=\"Sendig...\"\n          class=\"add-item__button add-item__button--disabled\"\n          disabled\n        />\n        <input\n          v-else\n          type=\"submit\"\n          value=\"Add item\"\n          class=\"add-item__button\"\n        />\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      wine: {\n        name: '',\n        producer: '',\n        year: '',\n        grapes: '',\n        price: '',\n        picture: '',\n        description: '',\n      },\n      file: '',\n      isSending: false\n    }\n\t},\n\n  methods: {\n\t\tclearForm () {\n\t\t\tfor (let field in this.wine) {\n\t\t\t\tthis.wine[field] = ''\n\t\t\t}\n\t\t},\n\n    onSelect () {\n      const file = this.$refs.file.files[0]\n      this.file = file\n    },\n\n\t\tonSubmit (evt) {\n\t\t\tevt.preventDefault()\n\t\t\tthis.isSending = true\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet formData = this.wine;\n        const wines = JSON.parse(localStorage.getItem('wineList'))\n        formData.picture = this.file.name\n        formData.id = wines.length + 1\n        wines.push(formData)\n        localStorage.setItem('wineList', JSON.stringify(wines))\n        localStorage.setItem('wineListAux', JSON.stringify(wines))\n        this.uploadFileToCloudinary(this.file)\n\t\t\t}, 1000)\n\t\t},\n\n    uploadFileToCloudinary (file) {\n      //Ideally these to lines would be in a .env file\n      const CLOUDINARY_URL = 'https://api.cloudinary.com/v1_1/vitorneves/upload'\n      const CLOUDINARY_UPLOAD_PRESET = 'wineChallenge'\n\n      let formData = new FormData()\n      formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n      formData.append('folder', 'wineChallenge')\n      formData.append('file', file)\n\n      return axios.post(CLOUDINARY_URL, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      .then(() => {\n        this.clearForm()\n        this.isSending = false\n      })\n      .catch(error => {\n        console.warn(error);\n      })\n    }\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.add-item {\n  margin: 0 auto;\n  width: 60%;\n\n  &__form-group {\n    margin: 0 auto $unit*5;\n\n    &--column {\n      display: flex;\n      justify-content: space-between;\n\n      & .add-item__input {\n        width: 25%;\n      }\n\n      & .add-item__input:last-child {\n        width: 46%;\n      }\n    }\n  }\n\n  &__input {\n    height: $unit*9;\n    display: inline-block;\n    vertical-align: middle;\n    width: 100%;\n    color: $brand-gray;\n    padding: $unit*2;\n    border: 1px solid rgb(218, 218, 218);\n\n    &:focus {\n      outline: 0;\n    }\n\n    &--textarea {\n      border-color: rgb(218, 218, 218);\n      font-family: Avenir, Helvetica, Arial, sans-serif;\n      height: 160px;\n    }\n  }\n\n  &__button {\n    background: $brand-black;\n    color: $brand-white;\n    border: none;\n    padding: $unit*4;\n    text-transform: uppercase;\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddItems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddItems.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddItems.vue?vue&type=template&id=8c9bd3cc&scoped=true&\"\nimport script from \"./AddItems.vue?vue&type=script&lang=js&\"\nexport * from \"./AddItems.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddItems.vue?vue&type=style&index=0&id=8c9bd3cc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c9bd3cc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddItems.vue?vue&type=style&index=0&id=8c9bd3cc&lang=scss&scoped=true&\""],"sourceRoot":""}